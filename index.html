<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ayocan - AI Asistan</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100vh;
            overflow: hidden;
        }
        
        .container {
            display: flex;
            flex-direction: column;
            height: 100vh;
        }
        
        .header {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            padding: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .header h1 {
            color: white;
            font-size: 22px;
        }
        
        .messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .message {
            display: flex;
            animation: slideIn 0.3s ease;
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .message.user {
            justify-content: flex-end;
        }
        
        .message.assistant {
            justify-content: flex-start;
        }
        
        .message-content {
            max-width: 80%;
            padding: 12px 18px;
            border-radius: 18px;
            word-wrap: break-word;
            white-space: pre-wrap;
            line-height: 1.5;
        }
        
        .message.user .message-content {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-bottom-right-radius: 4px;
        }
        
        .message.assistant .message-content {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-bottom-left-radius: 4px;
        }
        
        .message-image {
            max-width: 100%;
            border-radius: 12px;
            margin-top: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }
        
        .input-area {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            padding: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .input-container {
            display: flex;
            gap: 10px;
            align-items: flex-end;
        }
        
        textarea {
            flex: 1;
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            padding: 12px;
            color: white;
            font-size: 16px;
            resize: none;
            max-height: 120px;
            font-family: inherit;
        }
        
        textarea::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }
        
        button {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 12px 20px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        button:active {
            transform: scale(0.95);
        }
        
        button:disabled {
            background: #666;
            opacity: 0.5;
        }
        
        .icon-btn {
            padding: 12px;
            min-width: 48px;
            justify-content: center;
        }
        
        .loading {
            display: flex;
            gap: 5px;
            padding: 10px;
        }
        
        .dot {
            width: 8px;
            height: 8px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 50%;
            animation: bounce 1.4s infinite ease-in-out;
        }
        
        .dot:nth-child(1) { animation-delay: -0.32s; }
        .dot:nth-child(2) { animation-delay: -0.16s; }
        
        @keyframes bounce {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1); }
        }
        
        .clear-btn {
            background: rgba(239, 68, 68, 0.3);
            padding: 8px 16px;
            font-size: 14px;
        }
        
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            padding: 15px;
        }
        
        .quick-btn {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 15px;
            border-radius: 12px;
            color: white;
            font-size: 14px;
        }

        .image-preview {
            position: relative;
            display: inline-block;
            margin-top: 10px;
        }

        .image-preview img {
            max-width: 200px;
            border-radius: 12px;
            border: 2px solid rgba(255,255,255,0.3);
        }

        .remove-image {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #ef4444;
            color: white;
            border: none;
            border-radius: 50%;
            width: 28px;
            height: 28px;
            cursor: pointer;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0;
        }

        #imageInput {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>âœ¨ Ayocan AI</h1>
            <button class="clear-btn" onclick="clearChat()">ğŸ—‘ï¸ Temizle</button>
        </div>
        
        <div id="quickActions" class="quick-actions">
            <button class="quick-btn" onclick="setPrompt('Bana bir hikaye anlat')">ğŸ“š Hikaye</button>
            <button class="quick-btn" onclick="setPrompt('Python kod Ã¶rneÄŸi yaz')">ğŸ’» Kod</button>
            <button class="quick-btn" onclick="document.getElementById('imageInput').click()">ğŸ“¸ FotoÄŸraf</button>
            <button class="quick-btn" onclick="setPrompt('Ä°ngilizceye Ã§evir: Merhaba')">ğŸŒ Ã‡eviri</button>
        </div>
        
        <div class="messages" id="messages">
            <div class="message assistant">
                <div class="message-content">Merhaba! Ben Ayocan ğŸ¤–

Sana yardÄ±mcÄ± olabilirim:

âœ… SorularÄ±nÄ± yanÄ±tlarÄ±m
âœ… Kod yazarÄ±m
âœ… Metin oluÅŸtururum
âœ… TercÃ¼me yaparÄ±m
ğŸ“¸ FotoÄŸraf analiz ederim
ğŸ¨ GÃ¶rsel hakkÄ±nda fikir veririm

Hadi baÅŸlayalÄ±m!</div>
            </div>
        </div>
        
        <div class="input-area">
            <div id="imagePreviewContainer"></div>
            <div class="input-container">
                <input type="file" id="imageInput" accept="image/*" capture="environment" onchange="handleImageSelect(event)">
                <button class="icon-btn" onclick="document.getElementById('imageInput').click()" title="FotoÄŸraf YÃ¼kle">
                    ğŸ“¸
                </button>
                <textarea 
                    id="userInput" 
                    placeholder="MesajÄ±nÄ± yaz..." 
                    rows="1"
                    onkeypress="handleKeyPress(event)"
                ></textarea>
                <button onclick="sendMessage()" id="sendBtn">
                    â¤
                </button>
            </div>
        </div>
    </div>

    <script>
        let conversationHistory = [];
        let currentImage = null;
        
        const responses = {
            greetings: ['merhaba', 'selam', 'hey', 'hi', 'hello'],
            farewell: ['gÃ¼le gÃ¼le', 'hoÅŸÃ§a kal', 'bye', 'gÃ¶rÃ¼ÅŸÃ¼rÃ¼z'],
            thanks: ['teÅŸekkÃ¼r', 'saÄŸol', 'eyvallah', 'thanks'],
            code: ['kod', 'program', 'code', 'script', 'python', 'javascript'],
            translate: ['Ã§evir', 'translate', 'tercÃ¼me'],
            story: ['hikaye', 'story', 'masal', 'anlat'],
            help: ['yardÄ±m', 'help', 'ne yapabilirsin', 'neler yaparsÄ±n']
        };

        function handleImageSelect(event) {
            const file = event.target.files[0];
            if (file && file.type.startsWith('image/')) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    currentImage = e.target.result;
                    showImagePreview(currentImage);
                };
                reader.readAsDataURL(file);
            }
        }

        function showImagePreview(imageData) {
            const container = document.getElementById('imagePreviewContainer');
            container.innerHTML = `
                <div class="image-preview">
                    <img src="${imageData}" alt="Preview">
                    <button class="remove-image" onclick="removeImage()">Ã—</button>
                </div>
            `;
        }

        function removeImage() {
            currentImage = null;
            document.getElementById('imagePreviewContainer').innerHTML = '';
            document.getElementById('imageInput').value = '';
        }

        function analyzeImage() {
            const analyses = [
                {
                    description: "Bu gÃ¼zel bir fotoÄŸraf! ğŸ“¸",
                    details: [
                        "ğŸ¨ Renk Paleti: FotoÄŸrafta canlÄ± ve uyumlu renkler var",
                        "ğŸ’¡ Ä°yileÅŸtirme Ã–nerileri:\n  - Biraz daha fazla aydÄ±nlatma ekleyebilirsin\n  - Kontrast ayarÄ±nÄ± artÄ±r\n  - Kompozisyon iÃ§in Ã¼Ã§te bir kuralÄ±nÄ± kullan",
                        "âœ¨ Genel Ä°zlenim: Net ve ilgi Ã§ekici bir gÃ¶rÃ¼ntÃ¼"
                    ]
                },
                {
                    description: "FotoÄŸrafÄ±nÄ± analiz ettim! ğŸ”",
                    details: [
                        "ğŸ“Š Teknik Detaylar: Ä°yi bir Ã§ekim aÃ§Ä±sÄ± kullanÄ±lmÄ±ÅŸ",
                        "ğŸ¯ Ã–neriler:\n  - Arka plan daha minimal olabilir\n  - Ana nesneyi merkeze al\n  - DoÄŸal Ä±ÅŸÄ±ÄŸÄ± tercih et",
                        "ğŸŒŸ GÃ¼zel detaylar yakalamÄ±ÅŸsÄ±n!"
                    ]
                },
                {
                    description: "Ä°lginÃ§ bir fotoÄŸraf! ğŸ‘€",
                    details: [
                        "ğŸ–¼ï¸ Kompozisyon: Dengeli bir dÃ¼zenleme var",
                        "ğŸ’« YaratÄ±cÄ± Fikirler:\n  - Filtre kullanarak vintage efekt deneyebilirsin\n  - Siyah-beyaz versiyonunu oluÅŸtur\n  - Detay Ã§ekimleriyle hikaye anlat",
                        "ğŸ¨ Sanatsal deÄŸeri yÃ¼ksek!"
                    ]
                }
            ];

            return analyses[Math.floor(Math.random() * analyses.length)];
        }
        
        function getAIResponse(userMessage, hasImage) {
            const msg = userMessage.toLowerCase();

            // FotoÄŸraf analizi
            if (hasImage) {
                const analysis = analyzeImage();
                let response = analysis.description + "\n\n";
                response += analysis.details.join("\n\n");
                
                if (msg && msg.length > 0) {
                    response += "\n\nğŸ’¬ MesajÄ±n hakkÄ±nda: " + msg;
                }
                
                return response;
            }
            
            // Selamlama
            if (responses.greetings.some(word => msg.includes(word))) {
                return "Merhaba! ğŸ˜Š Sana nasÄ±l yardÄ±mcÄ± olabilirim? FotoÄŸraf da yÃ¼kleyebilirsin!";
            }
            
            // Veda
            if (responses.farewell.some(word => msg.includes(word))) {
                return "GÃ¶rÃ¼ÅŸmek Ã¼zere! ğŸ‘‹ Tekrar ihtiyacÄ±n olursa buradayÄ±m.";
            }
            
            // TeÅŸekkÃ¼r
            if (responses.thanks.some(word => msg.includes(word))) {
                return "Rica ederim! ğŸŒŸ BaÅŸka bir konuda yardÄ±mcÄ± olabilir miyim?";
            }
            
            // Kod istekleri
            if (responses.code.some(word => msg.includes(word))) {
                if (msg.includes('python')) {
                    return `Python kodu Ã¶rneÄŸi:

\`\`\`python
# Basit hesap makinesi
def toplama(a, b):
    return a + b

def cikarma(a, b):
    return a - b

# KullanÄ±m
sonuc = toplama(5, 3)
print(f"SonuÃ§: {sonuc}")
\`\`\`

BaÅŸka bir kod Ã¶rneÄŸi ister misin?`;
                }
                if (msg.includes('javascript') || msg.includes('js')) {
                    return `JavaScript kodu Ã¶rneÄŸi:

\`\`\`javascript
// Dizi iÅŸlemleri
const sayilar = [1, 2, 3, 4, 5];

// Map kullanÄ±mÄ±
const kareler = sayilar.map(x => x * x);
console.log(kareler); // [1, 4, 9, 16, 25]

// Filter kullanÄ±mÄ±
const ciftler = sayilar.filter(x => x % 2 === 0);
console.log(ciftler); // [2, 4]
\`\`\`

BaÅŸka kod Ã¶rneÄŸi gÃ¶rmek ister misin?`;
                }
                return `Hangi programlama dilinde kod Ã¶rneÄŸi istersin?

ğŸ Python
ğŸ“± JavaScript
â˜• Java
ğŸ¯ C++

Dilini belirt, Ã¶rnek vereyim!`;
            }
            
            // TercÃ¼me
            if (responses.translate.some(word => msg.includes(word))) {
                if (msg.includes('ingilizce')) {
                    return "Ä°ngilizceye Ã§evirmek istediÄŸin metni yaz, hemen Ã§evireyim! ğŸŒ";
                }
                return "Hangi dile Ã§eviri yapmamÄ± istersin?\n\nğŸ‡¬ğŸ‡§ Ä°ngilizce\nğŸ‡©ğŸ‡ª Almanca\nğŸ‡«ğŸ‡· FransÄ±zca\nğŸ‡ªğŸ‡¸ Ä°spanyolca";
            }
            
            // Hikaye
            if (responses.story.some(word => msg.includes(word))) {
                const stories = [
                    "Bir zamanlar, kÃ¼Ã§Ã¼k bir kÃ¶yde yaÅŸayan meraklÄ± bir Ã§ocuk vardÄ±. Her gÃ¼n yeni ÅŸeyler Ã¶ÄŸrenmeyi severdi. Bir gÃ¼n ormanda parÄ±ldayan bir kristal buldu...",
                    "Uzak bir galakside, yapay zeka Ayocan adÄ±nda bir robot yaÅŸardÄ±. GÃ¶revi insanlara yardÄ±m etmekti. Her gÃ¼n yeni arkadaÅŸlar edinir ve onlara yardÄ±m ederdi...",
                    "DaÄŸlarÄ±n ardÄ±nda gizli bir ÅŸehir vardÄ±. Bu ÅŸehirde teknoloji ve doÄŸa mÃ¼kemmel uyum iÃ§indeydi. Ä°nsanlar yapay zeka asistanlarÄ±yla birlikte mutlu yaÅŸarlardÄ±..."
                ];
                return stories[Math.floor(Math.random() * stories.length)] + "\n\nâœ¨ DevamÄ±nÄ± ister misin?";
            }
            
            // YardÄ±m
            if (responses.help.some(word => msg.includes(word))) {
                return `Ä°ÅŸte yapabileceklerim:

ğŸ¤– **Genel Sohbet**
- SorularÄ±nÄ± yanÄ±tlarÄ±m
- KonuÅŸabiliriz

ğŸ’» **Kod Yazma**
- Python, JavaScript Ã¶rneÄŸi
- Kod aÃ§Ä±klamasÄ±

ğŸ“š **Ä°Ã§erik Ãœretme**
- Hikaye anlatÄ±rÄ±m
- Metin yazarÄ±m

ğŸŒ **TercÃ¼me**
- Ã‡eviri yaparÄ±m

ğŸ“¸ **FotoÄŸraf Analizi**
- FotoÄŸrafÄ±nÄ± incelerim
- Ä°yileÅŸtirme Ã¶nerileri
- YaratÄ±cÄ± fikirler

Ne yapmamÄ± istersin?`;
            }
            
            // Genel yanÄ±tlar
            const generalResponses = [
                `"${userMessage}" hakkÄ±nda dÃ¼ÅŸÃ¼nÃ¼yorum... ğŸ¤”\n\nBu konuda sana ÅŸÃ¶yle yardÄ±mcÄ± olabilirim: Daha spesifik sorular sorabilirsin. Ã–rneÄŸin "kod yaz", "hikaye anlat", "Ã§eviri yap" veya fotoÄŸraf yÃ¼kleyebilirsin!`,
                `Ä°lginÃ§ bir soru! "${userMessage}" ile ilgili:\n\nâ€¢ Daha detaylÄ± aÃ§Ä±klayabilir misin?\nâ€¢ Hangi konuda yardÄ±m istersin?\nâ€¢ Kod mu, metin mi, yoksa fotoÄŸraf analizi mi?`,
                `"${userMessage}" konusunda sana yardÄ±mcÄ± olmak isterim! ğŸ’¡\n\nÅunlardan birini deneyebilirsin:\n- Kod Ã¶rneÄŸi iste\n- Hikaye dinle\n- TercÃ¼me yaptÄ±r\n- FotoÄŸraf yÃ¼kle`
            ];
            
            return generalResponses[Math.floor(Math.random() * generalResponses.length)];
        }
        
        function addMessage(role, content, imageData = null) {
            conversationHistory.push({ role, content, image: imageData });
            const messagesDiv = document.getElementById('messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${role}`;
            
            let imageHTML = '';
            if (imageData) {
                imageHTML = `<img src="${imageData}" class="message-image" alt="Uploaded image">`;
            }
            
            messageDiv.innerHTML = `<div class="message-content">${imageHTML}${content}</div>`;
            messagesDiv.appendChild(messageDiv);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
            
            if (conversationHistory.length > 2) {
                document.getElementById('quickActions').style.display = 'none';
            }
        }
        
        function showLoading() {
            const messagesDiv = document.getElementById('messages');
            const loadingDiv = document.createElement('div');
            loadingDiv.className = 'message assistant';
            loadingDiv.id = 'loading';
            loadingDiv.innerHTML = `
                <div class="message-content">
                    <div class="loading">
                        <div class="dot"></div>
                        <div class="dot"></div>
                        <div class="dot"></div>
                    </div>
                </div>
            `;
            messagesDiv.appendChild(loadingDiv);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }
        
        function removeLoading() {
            const loading = document.getElementById('loading');
            if (loading) loading.remove();
        }
        
        function sendMessage() {
            const input = document.getElementById('userInput');
            const text = input.value.trim();
            const hasImage = currentImage !== null;
            
            if (!text && !hasImage) return;
            
            const messageText = text || "FotoÄŸrafÄ±mÄ± incele";
            addMessage('user', messageText, currentImage);
            input.value = '';
            
            const sendBtn = document.getElementById('sendBtn');
            sendBtn.disabled = true;
            showLoading();
            
            setTimeout(() => {
                removeLoading();
                const response = getAIResponse(text, hasImage);
                addMessage('assistant', response);
                sendBtn.disabled = false;
                
                // FotoÄŸrafÄ± temizle
                if (hasImage) {
                    removeImage();
                }
            }, 1500);
        }
        
        function handleKeyPress(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendMessage();
            }
        }
        
        function setPrompt(text) {
            document.getElementById('userInput').value = text;
        }
        
        function clearChat() {
            conversationHistory = [];
            removeImage();
            document.getElementById('messages').innerHTML = `
                <div class="message assistant">
                    <div class="message-content">Sohbet temizlendi! âœ¨ Yeni bir konuÅŸma baÅŸlatalÄ±m. FotoÄŸraf da yÃ¼kleyebilirsin!</div>
                </div>
            `;
            document.getElementById('quickActions').style.display = 'grid';
        }
    </script>
</body>
</html>        
